@using Microsoft.AspNetCore.Components.Web

<div class="container">
    <ul class="@(Trunk.LayerId == 0 ? "parentUl": "")">
        <li>
            @if (Trunk.Branches != null && Trunk.Branches.Any())
            {
                <span @onclick="@(e => SpanToggle(e, Trunk))" class="caret @(Trunk.Expanded ? "caret-down" : "")">@Trunk.Name: @(Trunk.Value ?? (Trunk.IsObj ? "{...}" : "[...]")) </span>
                <ul class="@(Trunk.Expanded ? "active" : "nested")">
                    @foreach (var branch in Trunk.Branches)
                    {
                        <Treeview Trunk="branch" />
                    }
                </ul>
            }
            else if (Trunk.Branches != null)
            {
                <span>@Trunk.Name: @(Trunk.IsObj ? "{...}" : "[...]")</span>
            }
            else
            {
                <span>@Trunk.Name: @(Trunk.Value ?? string.Empty) </span>
            }
        </li>
    </ul>
</div>
